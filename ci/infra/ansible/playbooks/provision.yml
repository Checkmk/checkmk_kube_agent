---
- name: "Provision Base."
  hosts: all
  remote_user: "{{ ansible_ssh_remote_user }}"
  tags: [full, base, common]
  become: 'true'
  roles:
    - thorian93.common
    - thorian93.upgrade

- name: "Provision Docker."
  hosts: all
  remote_user: "{{ ansible_ssh_remote_user }}"
  tags: [never, docker]
  become: 'true'
  roles:
    - geerlingguy.docker

- name: "Provision containerd."
  hosts: all
  remote_user: "{{ ansible_ssh_remote_user }}"
  tags: [never, containerd, container]
  become: 'true'
  roles:
    - geerlingguy.containerd

- name: "Provision Kubernetes."
  hosts: all
  remote_user: "{{ ansible_ssh_remote_user }}"
  tags: [never, docker, container, containerd, kubernetes]
  become: 'true'
  roles:
    - geerlingguy.kubernetes

- name: "Include Post Tasks."
  tags: [always, post]
  ansible.builtin.import_playbook: post.yml
